<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Principal Office Navigation</title>
<style>
  body { margin:0; }
  #map {
    position: relative;
    width: 100%;
    max-width: 800px; /* optional: scale to screen */
    height: 600px;
    background: url('school_map.png') no-repeat;
    background-size: contain;
    border: 1px solid #333;
    margin: auto;
  }
  .dot {
    position: absolute;
    width: 12px;
    height: 12px;
    background: blue;
    border-radius: 50%;
    transform: translate(-50%, -50%);
  }
  .path {
    position: absolute;
    width: 2px;
    background: red;
    transform-origin: top left;
  }
</style>
</head>
<body>

<div id="map">
  <div id="dot" class="dot"></div>
</div>

<script>
const path = [
[773, 450],
[791, 449],
[823, 448],
[852, 446],
[878, 442],
[893, 423],
[892, 401],
[891, 379],
[892, 367],
[892, 357],
[892, 351],
[888, 362],
[888, 353],
[860, 355],
[836, 353]
];

const map = document.getElementById("map");
const dot = document.getElementById("dot");

function drawPath() {
  for (let i = 0; i < path.length - 1; i++) {
    const x1 = path[i][0];
    const y1 = path[i][1];
    const x2 = path[i+1][0];
    const y2 = path[i+1][1];

    const dx = x2 - x1;
    const dy = y2 - y1;
    const length = Math.sqrt(dx*dx + dy*dy);

    const line = document.createElement('div');
    line.classList.add('path');
    line.style.width = length + 'px';
    line.style.height = '2px';
    line.style.left = x1 + 'px';
    line.style.top = y1 + 'px';
    const angle = Math.atan2(dy, dx) * 180 / Math.PI;
    line.style.transform = `rotate(${angle}deg)`;
    map.appendChild(line);
  }
}

function updateDot(position) {
  // convert GPS to pixel if needed, or skip for testing
  // for now just place at first node
  dot.style.left = path[0][0] + 'px';
  dot.style.top = path[0][1] + 'px';
}

// initial render
drawPath();
updateDot();
</script>

</body>
</html>
